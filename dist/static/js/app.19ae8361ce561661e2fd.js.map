{"version":3,"sources":["webpack:///./src/App.vue?cdac","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/InfiniteScrolling.vue","webpack:///./src/components/InfiniteScrolling.vue?a604","webpack:///./src/components/InfiniteScrolling.vue","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?886b","webpack:///./src/views/Index.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","InfiniteScrolling","data","dataList","dataShowList","pageSize","totalItemNum","rowInScreenNum","wrapHeight","screenItemHeight","lastScrollTop","fromIndex","toIndex","lastPaddingObj","props","fnFetch","type","Function","required","itemHeight","Number","default","loading","Boolean","computed","containerPadding","paddingTop","paddingBottom","created","getData","mounted","containerHeight","$refs","container","offsetHeight","Math","ceil","methods","changeLoading","val","$emit","_this","fetch","then","concat","length","setSliceData","res","Array","isArray","slice","handleMove","e","scrollTop","target","abs","count","floor","console","log","_count","components_InfiniteScrolling","_vm","ref","staticClass","on","scroll","style","_l","item","key","height","_t","row","_v","_e","Index","components","InfiniteScrolling_normalizeComponent","promise_default","a","resolve","reject","setTimeout","from_default","fill","forEach","i","push","views_Index","_m","fn-fetch","item-height","scopedSlots","_u","fn","_s","$children","staticStyle","font-size","text-align","padding-top","color","margin","href","src_views_Index","Index_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","App","template"],"mappings":"qHAGeA,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,ECTAC,KAAA,ODWEb,GATF,EAVA,SAAAc,GACEH,EAAQ,SAaV,KAEA,MAUgC,8DEFhCI,GACAC,KADA,WAEA,OACAC,YACAC,gBAEAC,SAAA,EAEAC,aAAA,EACAC,eAAA,EAGAC,WAAA,EACAC,iBAAA,EAEAC,cAAA,EAEAC,UAAA,EACAC,QAAA,EAEAC,eAAA,OAIAC,OACAC,SACAC,KAAAC,SACAC,UAAA,GAEAC,YACAH,KAAAI,OACAC,QAAA,IAEAC,SACAN,KAAAO,QACAL,UAAA,EACAG,SAAA,IAIAG,UACAC,iBADA,WAEA,IAAAC,EAAArC,KAAAsB,UAAAtB,KAAA8B,WAUA,OATA9B,KAAAiC,SAAAjC,KAAAwB,eACAxB,KAAAwB,eAAAc,cAAA,EAEAtC,KAAAwB,gBACAa,aAAA,KAEAC,cAAAtC,KAAAmB,WAAAkB,EAAArC,KAAA8B,WAAA9B,KAAAgB,SAAA,MAGAhB,KAAAwB,iBAIAe,QAxDA,WAyDAvC,KAAAwC,WAGAC,QA5DA,WA6DA,IAAAC,EAAA1C,KAAA2C,MAAAC,UAAAC,aAMA,GALA7C,KAAAkB,eAAA4B,KAAAC,KAAAL,EAAA1C,KAAA8B,YACA9B,KAAAoB,iBAAApB,KAAAkB,eAAAlB,KAAA8B,WAEA9B,KAAAgB,SAAAhB,KAAAuB,QAAA,EAAAvB,KAAAkB,eAEAlB,KAAAgB,SAAAhB,KAAAuB,QACA,mBAAAvB,KAAAkB,eAAA,0BAIA8B,SACAC,cADA,SACAC,GACAlD,KAAAmD,MAAA,iBAAAD,IAGAV,QALA,WAKA,IAAAY,EAAApD,KAEAA,KAAAqD,QAAAC,KAAA,SAAAzC,GACAuC,EAAAH,eAAA,GAEAG,EAAAtC,SAAAsC,EAAAtC,SAAAyC,OAAA1C,GACAuC,EAAAnC,aAAAmC,EAAAtC,SAAA0C,OACAJ,EAAAK,eAEAL,EAAAjC,WAAAiC,EAAAnC,aAAAmC,EAAAtB,cAIAuB,MAlBA,WAmBA,OAAArD,KAAA0B,QAAA1B,KAAAc,UAAAwC,KAAA,SAAAI,GAEA,IAAAC,MAAAC,QAAAF,GACA,mCAEA,OAAAA,KAIAD,aA5BA,WA8BAzD,KAAAe,aAAAf,KAAAc,SAAA+C,MAAA7D,KAAAsB,UAAAtB,KAAAuB,UAGAuC,WAjCA,SAiCAC,GAAA,IACAC,EAAAD,EAAAE,OAAAD,UAEA,IAAAhE,KAAAiC,QAIA,GACAa,KAAAoB,IAAAF,EAAAhE,KAAAqB,eAAArB,KAAAoB,iBACA,CACApB,KAAAqB,cAAA2C,EACA,IAAAG,EAAArB,KAAAsB,MAAApE,KAAAqB,cAAArB,KAAAoB,kBACA+C,EAAA,IACAnE,KAAAsB,UAAA6C,EAAAnE,KAAAkB,eACAlB,KAAAuB,QAAAvB,KAAAsB,UAAAtB,KAAAgB,SACAhB,KAAAuB,SAAAvB,KAAAc,SAAA0C,QAEAa,QAAAC,IAAA,2BAAAtE,KAAAsB,UAAA,eAAAtB,KAAAuB,SACAvB,KAAAwC,WAEAxC,KAAAyD,oBAGA,CACA,IAAAc,EAAAzB,KAAAsB,MAAApE,KAAAqB,cAAA2C,GACAO,EAAA,IACAF,QAAAC,IAAA,WAAAC,GACAvE,KAAAqB,eAAArB,KAAAoB,iBACApB,KAAAqB,cAAArB,KAAAoB,mBACApB,KAAAqB,cAAA,GAEArB,KAAAsB,WAAAiD,EAAAvE,KAAAkB,eACAlB,KAAAsB,UAAA,IACAtB,KAAAsB,UAAA,GAEAtB,KAAAuB,QAAAvB,KAAAsB,UAAAtB,KAAAgB,SACAhB,KAAAyD,oBClKee,GADE1E,OAFP,WAAgB,IAAA2E,EAAAzE,KAAaD,EAAA0E,EAAAxE,eAA0BC,EAAAuE,EAAAtE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBwE,IAAA,YAAAC,YAAA,mBAAAC,IAAmDC,OAAAJ,EAAAX,cAAyB5D,EAAA,OAAYyE,YAAA,yBAAAG,MAAAL,EAAA,mBAAkEA,EAAAM,GAAAN,EAAA,sBAAAO,GAA2C,OAAA9E,EAAA,OAAiB+E,IAAAD,EAAA3E,GAAAsE,YAAA,yBAAAG,OAAyDI,OAAAT,EAAA3C,WAAA,QAAoC2C,EAAAU,GAAA,gBAAyBC,IAAAJ,KAAS,KAAMP,EAAAY,GAAA,KAAAZ,EAAA,QAAAvE,EAAA,KAAoCyE,YAAA,YAAsBF,EAAAY,GAAA,gBAAAZ,EAAAa,MAAA,MAE/dhF,oBCChC,IC2CAiF,GACAC,YACA5E,kBD7CyBJ,EAAQ,OAcjBiF,CACd7E,EACA4D,GAT6B,EAV/B,SAAoB7D,GAClBH,EAAQ,SAaS,KAEU,MAUG,SCyBhCK,KALA,WAMA,OACAoB,SAAA,IAIAe,SACAK,MADA,SACAvC,GAAA,IAAAsC,EAAApD,KAEA,OADAA,KAAAiC,SAAA,EACA,IAAAyD,EAAAC,EAAA,SAAAC,EAAAC,GACAC,WAAA,WACA,IACAjF,KADAkF,IAAA,IAAApC,MAAA,KAAAqC,KAAA,GAEAC,QAAA,SAAAjB,EAAAkB,GACArF,EAAAsF,MAAAzF,KAAA,SAAAwF,EAAA,EAAApF,EAAA0C,QAAAnD,GAAA6F,EAAA,EAAApF,EAAA0C,WAEAJ,EAAAnB,SAAA,EACA2D,EAAA/E,IACA,UChEeuF,GADEtG,OAJP,WAAgB,IAAA2E,EAAAzE,KAAaD,EAAA0E,EAAAxE,eAA0BC,EAAAuE,EAAAtE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,SAAmBF,EAAA4B,GAAA,GAAA5B,EAAAY,GAAA,KAAAnF,EAAA,OAAkCyE,YAAA,aAAuBzE,EAAA,OAAYyE,YAAA,mBAA6BzE,EAAA,sBAA2BE,OAAOkG,WAAA7B,EAAApB,MAAAkD,cAAA,GAAAtE,QAAAwC,EAAAxC,SAA4DuE,YAAA/B,EAAAgC,KAAsBxB,IAAA,UAAAyB,GAAA,SAAAhC,GACnV,IAAAU,EAAAV,EAAAU,IACA,OAAAlF,EAAA,WAAmBuE,EAAAY,GAAA,aAAAZ,EAAAkC,GAAAvB,EAAA1E,MAAA,qBAAyD,GAAA+D,EAAAY,GAAA,KAAAZ,EAAAmC,UAAA,GAAA1G,EAAA,OAA+CyE,YAAA,eAAyBzE,EAAA,KAAU2G,aAAaC,YAAA,UAAoBrC,EAAAY,GAAA,kBAAAZ,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,oBAAAZ,EAAAkC,GAAAlC,EAAAxC,YAAAwC,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,mBAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAA9F,SAAA0C,QAAA,OAAAiB,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,uBAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAA7F,aAAAyC,QAAA,OAAAiB,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,cAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAAtF,cAAAmD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,YAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAArF,YAAAkD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,aAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAA5F,aAAAyD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,eAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAAzF,YAAA,QAAAsD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,qBAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAAxF,kBAAA,QAAAqD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,iBAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAA3F,iBAAAwD,EAAAY,GAAA,KAAAnF,EAAA,KAAAuE,EAAAY,GAAA,mBAAAZ,EAAAkC,GAAAlC,EAAAmC,UAAA,GAAA1F,qBAAAuD,EAAAa,OAAAb,EAAAY,GAAA,KAAAZ,EAAA4B,GAAA,MAE/J/F,iBADb,WAAiB,IAAaP,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiB2G,aAAaE,aAAA,YAAuB7G,EAAA,KAAU2G,aAAaC,YAAA,OAAAE,cAAA,UAA3IhH,KAAoLqF,GAAA,oBAApLrF,KAAoLqF,GAAA,KAAAnF,EAAA,KAAiD2G,aAAaI,MAAA,OAAAC,OAAA,oBAAlPlH,KAA4RqF,GAAA,qBAAAnF,EAAA,KAAsCE,OAAO+G,KAAA,sDAAzUnH,KAAoYqF,GAAA,8BAAAnF,EAAA,MAApYF,KAAoYqF,GAAA,wDAA8G,WAAc,IAAatF,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,KAAe2G,aAAaG,cAAA,UAA3FhH,KAAiHqF,GAAA,gBAAAnF,EAAA,KAAiCE,OAAO+G,KAAA,MAAzJnH,KAAoKqF,GAAA,wBAApKrF,KAAoKqF,GAAA,iBAAAnF,EAAA,KAAiEE,OAAO+G,KAAA,MAA5OnH,KAAuPqF,GAAA,sBCA3xB,IAuBe+B,EAvBU5G,EAAQ,OAcjB6G,CACd9B,EACAa,GAT6B,EAV/B,SAAoBzF,GAClBH,EAAQ,SAaS,KAEU,MAUG,QCtBhC8G,EAAA,EAAIC,IAAIC,EAAA,GAEO,IAAAC,EAAA,IAAID,EAAA,GACjBE,SAEIC,KAAM,IACNjH,KAAM,aACNkH,UAAWR,MCLjBE,EAAA,EAAIO,OAAOC,eAAgB,EAG3B,IAAIR,EAAA,GACFS,GAAI,OACJN,SACAjC,YAAcwC,IAAAzH,GACd0H,SAAU","file":"static/js/app.19ae8361ce561661e2fd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d49ce96a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d49ce96a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d49ce96a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\nhtml,body,#app {\n  height: 100%;\n  margin: 0;\n}\ndiv {\n  box-sizing: border-box;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div\n    ref=\"container\"\n    class=\"scroll-container\"\n    @scroll=\"handleMove\"\n  >\n    <div\n      class=\"scroll-container__wrap\"\n      :style=\"containerPadding\"\n    >\n      <div\n        v-for=\"item in dataShowList\"\n        :key=\"item.id\"\n        class=\"scroll-container__item\"\n        :style=\"{ height: `${itemHeight}px` }\"\n      >\n        <slot :row=\"item\" />\n      </div>\n      <p v-if=\"loading\" class=\"loading\">loading...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dataList: [],\n      dataShowList: [],\n      // loading: false,\n      pageSize: 0,\n\n      totalItemNum: 0,\n      rowInScreenNum: 0,\n\n      // itemHeight: 150,\n      wrapHeight: 0,\n      screenItemHeight: 0,\n\n      lastScrollTop: 0,\n\n      fromIndex: 0,\n      toIndex: 0,\n\n      lastPaddingObj: null\n    }\n  },\n\n  props: {\n    fnFetch: {\n      type: Function,\n      required: true\n    },\n    itemHeight: {\n      type: Number,\n      default: 50\n    },\n    loading: {\n      type: Boolean,\n      required: true,\n      default: false\n    }\n  },\n\n  computed: {\n    containerPadding() {\n      const paddingTop = this.fromIndex * this.itemHeight\n      if (this.loading && this.lastPaddingObj) {\n        this.lastPaddingObj.paddingBottom = 0\n      } else {\n        this.lastPaddingObj = {\n          paddingTop: `${paddingTop}px`,\n          // paddingBottom: `${this.wrapHeight - paddingTop - this.itemHeight * (this.toIndex - this.fromIndex)}px`\n          paddingBottom: `${this.wrapHeight - paddingTop - this.itemHeight * this.pageSize}px`\n        }\n      }\n      return this.lastPaddingObj\n    }\n  },\n\n  created() {\n    this.getData()\n  },\n\n  mounted() {\n    const containerHeight = this.$refs.container.offsetHeight\n    this.rowInScreenNum = Math.ceil(containerHeight / this.itemHeight)\n    this.screenItemHeight = this.rowInScreenNum * this.itemHeight\n\n    this.pageSize = this.toIndex = this.rowInScreenNum * 2\n\n    if (this.pageSize < this.toIndex) {\n      throw `当前滚动容器内一屏渲染${this.rowInScreenNum}条，pageSize必须至少为它的2倍14条`\n    }\n  },\n\n  methods: {\n    changeLoading(val) {\n      this.$emit('update:loading', val)\n    },\n\n    getData() {\n      // this.loading = true\n      this.fetch().then(data => {\n        this.changeLoading(true)\n        // this.loading = false\n        this.dataList = this.dataList.concat(data)\n        this.totalItemNum = this.dataList.length\n        this.setSliceData()\n\n        this.wrapHeight = this.totalItemNum * this.itemHeight\n      })\n    },\n\n    fetch() {\n      return this.fnFetch(this.dataList).then(res => {\n        // 校验res是否为数组\n        if (!Array.isArray(res)) {\n          throw 'fn-fetch方法resolve的data必须为数组'\n        }\n        return res\n      })\n    },\n\n    setSliceData() {\n      // console.log(this.fromIndex, this.toIndex)\n      this.dataShowList = this.dataList.slice(this.fromIndex, this.toIndex)\n    },\n\n    handleMove(e) {\n      const { scrollTop } = e.target\n\n      if (this.loading) {\n        return\n      }\n\n      if (\n        Math.abs(scrollTop - this.lastScrollTop) > this.screenItemHeight\n      ) {\n        this.lastScrollTop = scrollTop\n        const count = Math.floor(this.lastScrollTop / this.screenItemHeight)\n        if (count > 0) {\n          this.fromIndex = count * this.rowInScreenNum\n          this.toIndex = this.fromIndex + this.pageSize\n          if (this.toIndex >= this.dataList.length) {\n            // 重新拉取新数据\n            console.log('get data, this.fromIndex', this.fromIndex, 'this.toIndex', this.toIndex)\n            this.getData()\n          } else {\n            this.setSliceData()\n          }\n        }\n      } else {\n        const count = Math.floor(this.lastScrollTop / scrollTop)\n        if (count > 0) {\n          console.log('up count', count)\n          this.lastScrollTop -= this.screenItemHeight\n          if (this.lastScrollTop < this.screenItemHeight) {\n            this.lastScrollTop = 0\n          }\n          this.fromIndex -= count * this.rowInScreenNum\n          if (this.fromIndex < 0) {\n            this.fromIndex = 0\n          }\n          this.toIndex = this.fromIndex + this.pageSize\n          this.setSliceData()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n  .scroll-container {\n    height: 100%;\n    overflow: auto;\n  }\n  .scroll-container__item {\n    display: flex;\n    align-items: center;\n    /*height: 150px;*/\n    border-bottom: 1px #cecece solid;\n    padding-left: 10px;\n    overflow: hidden;\n  }\n  .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 50px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/InfiniteScrolling.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"scroll-container\",on:{\"scroll\":_vm.handleMove}},[_c('div',{staticClass:\"scroll-container__wrap\",style:(_vm.containerPadding)},[_vm._l((_vm.dataShowList),function(item){return _c('div',{key:item.id,staticClass:\"scroll-container__item\",style:({ height: (_vm.itemHeight + \"px\") })},[_vm._t(\"default\",null,{row:item})],2)}),_vm._v(\" \"),(_vm.loading)?_c('p',{staticClass:\"loading\"},[_vm._v(\"loading...\")]):_vm._e()],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-99fa97fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InfiniteScrolling.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-99fa97fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InfiniteScrolling.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfiniteScrolling.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfiniteScrolling.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-99fa97fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfiniteScrolling.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InfiniteScrolling.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"demo\">\n    <div style=\"text-align: center;\">\n      <p style=\"font-size: 30px;padding-top: 50px;\">Vue列表无限滚动的优化方案</p>\n      <p style=\"color: #999;margin: -30px 0 50px 0\">\n        本文思路原理借鉴 <a href=\"https://juejin.im/entry/5819993fbf22ec0068aab054\">Vue.js 一个超长列表无限滚动加载的解决方案</a><br/>\n        本例子为更简单实现，用2个区域实现，其是三个区域个人觉得不便于理解\n      </p>\n    </div>\n    <div class=\"vue-list\">\n      <div class=\"vue-list__wrap\">\n        <infinite-scrolling\n          :fn-fetch=\"fetch\"\n          :item-height=\"70\"\n          :loading=\"loading\"\n        >\n        <span slot-scope=\"{ row }\">\n          {{ row.name }}\n        </span>\n        </infinite-scrolling>\n      </div>\n\n      <div class=\"other-info\" v-if=\"$children[0]\">\n        <p style=\"font-size: 30px\">data present</p>\n        <p>is getting data: {{ loading }}</p>\n        <p>dataList: Array[{{ $children[0].dataList.length }}]</p>\n        <p>dataShowList: Array[{{ $children[0].dataShowList.length }}]</p>\n        <p>fromIndex: {{ $children[0].fromIndex }}</p>\n        <p>toIndex: {{ $children[0].toIndex }}</p>\n        <p>pageSize: {{ $children[0].pageSize }}</p>\n        <p>wrapHeight: {{ $children[0].wrapHeight }}px</p>\n        <p>screenItemHeight: {{ $children[0].screenItemHeight }}px</p>\n        <p>totalItemNum: {{ $children[0].totalItemNum }}</p>\n        <p>rowInScreenNum: {{ $children[0].rowInScreenNum }}</p>\n      </div>\n    </div>\n    <p style=\"padding-top: 30px\">\n      git地址：<a href=\"\">infinite-scrolling</a> |\n      文章详解：<a href=\"\">列表无限滚动的优化方案</a>\n    </p>\n  </div>\n</template>\n\n<script>\nimport InfiniteScrolling from '../components/InfiniteScrolling'\n\nexport default {\n  components: {\n    InfiniteScrolling\n  },\n\n  data() {\n    return {\n      loading: false\n    }\n  },\n\n  methods: {\n    fetch(dataList) {\n      this.loading = true\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const res = Array.from(new Array(20)).fill(1)\n          const data = []\n          res.forEach((item, i) => {\n            data.push({ name: `item ${i + 1 + dataList.length}`, id: i + 1 + dataList.length })\n          })\n          this.loading = false\n          resolve(data)\n        }, 1000)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n  .demo {\n    display: flex;\n    /*justify-content: center;*/\n    flex-direction: column;\n    align-items: center;\n    height: 100%;\n    background-color: #f2f2f2;\n  }\n  .vue-list {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .vue-list__wrap {\n    width: 320px;\n    height: 480px;\n    background-color: #fff;\n  }\n  .other-info {\n    margin-left: 100px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"vue-list\"},[_c('div',{staticClass:\"vue-list__wrap\"},[_c('infinite-scrolling',{attrs:{\"fn-fetch\":_vm.fetch,\"item-height\":70,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn _c('span',{},[_vm._v(\"\\n        \"+_vm._s(row.name)+\"\\n      \")])}}])})],1),_vm._v(\" \"),(_vm.$children[0])?_c('div',{staticClass:\"other-info\"},[_c('p',{staticStyle:{\"font-size\":\"30px\"}},[_vm._v(\"data present\")]),_vm._v(\" \"),_c('p',[_vm._v(\"is getting data: \"+_vm._s(_vm.loading))]),_vm._v(\" \"),_c('p',[_vm._v(\"dataList: Array[\"+_vm._s(_vm.$children[0].dataList.length)+\"]\")]),_vm._v(\" \"),_c('p',[_vm._v(\"dataShowList: Array[\"+_vm._s(_vm.$children[0].dataShowList.length)+\"]\")]),_vm._v(\" \"),_c('p',[_vm._v(\"fromIndex: \"+_vm._s(_vm.$children[0].fromIndex))]),_vm._v(\" \"),_c('p',[_vm._v(\"toIndex: \"+_vm._s(_vm.$children[0].toIndex))]),_vm._v(\" \"),_c('p',[_vm._v(\"pageSize: \"+_vm._s(_vm.$children[0].pageSize))]),_vm._v(\" \"),_c('p',[_vm._v(\"wrapHeight: \"+_vm._s(_vm.$children[0].wrapHeight)+\"px\")]),_vm._v(\" \"),_c('p',[_vm._v(\"screenItemHeight: \"+_vm._s(_vm.$children[0].screenItemHeight)+\"px\")]),_vm._v(\" \"),_c('p',[_vm._v(\"totalItemNum: \"+_vm._s(_vm.$children[0].totalItemNum))]),_vm._v(\" \"),_c('p',[_vm._v(\"rowInScreenNum: \"+_vm._s(_vm.$children[0].rowInScreenNum))])]):_vm._e()]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',{staticStyle:{\"font-size\":\"30px\",\"padding-top\":\"50px\"}},[_vm._v(\"Vue列表无限滚动的优化方案\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"color\":\"#999\",\"margin\":\"-30px 0 50px 0\"}},[_vm._v(\"\\n      本文思路原理借鉴 \"),_c('a',{attrs:{\"href\":\"https://juejin.im/entry/5819993fbf22ec0068aab054\"}},[_vm._v(\"Vue.js 一个超长列表无限滚动加载的解决方案\")]),_c('br'),_vm._v(\"\\n      本例子为更简单实现，用2个区域实现，其是三个区域个人觉得不便于理解\\n    \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticStyle:{\"padding-top\":\"30px\"}},[_vm._v(\"\\n    git地址：\"),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"infinite-scrolling\")]),_vm._v(\" |\\n    文章详解：\"),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"列表无限滚动的优化方案\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c7a474c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c7a474c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c7a474c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/views/Index'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}